!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):t.VueModalWizard=e(t.Vue)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e={parseTimeToMillisecond:function(t){var e=t.match(/\d*\.?\d+/g);return e?(e=parseFloat(e.pop()),-1===t.indexOf("ms")?parseInt(""+1e3*e):parseInt(""+e)):0}},o=new Set(["point","column","sticky-column","viewport"]);var n=function(t,e,o,n,i,s,l,a){var r=("function"==typeof o?o.options:o)||{};r.render||(r.render=t.render,r.staticRenderFns=t.staticRenderFns,r._compiled=!0,i&&(r.functional=!0)),r._scopeId=n;var d=void 0;if(e&&(d=function(t){e.call(this,l(t))}),void 0!==d)if(r.functional){var c=r.render;r.render=function(t,e){return d.call(e),c(t,e)}}else{var u=r.beforeCreate;r.beforeCreate=u?[].concat(u,d):[d]}return r}({render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"ModalWizard__Modal"},[o("div",{ref:"lightbox",staticClass:"background",style:{backgroundColor:t.lightboxColor,transition:t.lightboxTransitionProp,opacity:t.lightboxOpacity},on:{mousedown:function(e){t.closeReady=!0},click:function(){t.closeReady&&t.close()}}},[o("div",{ref:"anchorbox",staticClass:"anchor-box"},[o("transition",{attrs:{name:t.transition}},[o(t.contentComOpt,t._b({directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"modalCom",tag:"component",on:{reset:t.reset,changeColor:t.onColorChange,changePosition:t.setPosition}},"component",t.props,!1))],1)],1)])])},staticRenderFns:[]},function(t){t&&t("data-v-58178d27_0",{source:"\n.ModalWizard__Modal{position:fixed\n}\n.ModalWizard__Modal>.background{position:fixed;top:0;left:0;height:100%;width:100%;overflow:auto\n}\n.ModalWizard__Modal>.background>.anchor-box{position:absolute;top:0;left:50%;width:0\n}",map:void 0,media:void 0})},{data:function(){return{visible:!1,showModal:!0,closeReady:!1,onClose:null,closeTopModal:null,contentComOpt:null,props:null,fadeDuration:200,colorChangeDuration:"0.2s",transition:null,lightboxColor:"rgba(0, 0, 0, 0.8)",lightboxTransitionProp:"",lightboxOpacity:"0",name:null}},methods:{recover:function(){this.alreadyClose=!1,this.showModal=!0,this.lightboxOpacity="0";var t=this.$refs.modalCom;t&&t._modalRecover&&"function"==typeof t._modalRecover&&t._modalRecover()},initStyle:function(t){var e=this,o=this.$refs.modalCom;o&&o._modalStyle&&"function"==typeof o._modalStyle?this.setStyle(o._modalStyle()):this.setStyle(t||{}),this.visible=!0;var n=this.$refs.anchorbox;(o=this.toArray(n.children).pop()).addEventListener("mousedown",function(t){t.stopPropagation(),e.closeReady=!1}),o.addEventListener("click",function(t){t.stopPropagation()})},setStyle:function(t){var o=this;t.fadeDuration?this.fadeDuration=e.parseTimeToMillisecond(t.fadeDuration):this.fadeDuration=200,this.colorChangeDuration=t.colorChangeDuration||"0.2s",this.lightboxColor=t.lightboxColor||"rgba(0, 0, 0, 0.8)",this.transition=t.transition||null,this.lightboxTransitionProp="opacity "+this.fadeDuration+"ms, background-color "+this.colorChangeDuration,setTimeout(function(){o.lightboxOpacity="1"},1)},initPosition:function(t){var e=this,o=this.$refs.modalCom;if(o&&o._modalFlexPosition&&"function"==typeof o._modalFlexPosition){this.ticking=!1;var n=function(){e.setPosition(o._modalFlexPosition(window.innerWidth,window.innerHeight)),e.ticking=!1};n(),this.onResize=function(){e.ticking||(window.requestAnimationFrame(n),e.ticking=!0)},window.addEventListener("resize",this.onResize)}else!t&&o&&o._modalPosition&&"function"==typeof o._modalPosition?this.setPosition(o._modalPosition()):this.setPosition(t||{})},setPosition:function(t){var e=this;this.position=t,this.$nextTick(function(){var n=e.$refs.anchorbox,i=e.toArray(n.children).pop();t.type&&o.has(t.type)||(t.type="point"),n.style.position="absolute",i.style.position="absolute",n.style.width="0",i.style.margin="0","point"===t.type&&(t.anchorTop?(n.style.top=t.anchorTop,n.style.bottom="auto"):(n.style.top=t.anchorBottom?"auto":"50%",n.style.bottom=t.anchorBottom||"auto"),t.top?(i.style.top=t.top,i.style.bottom="auto"):(i.style.top=t.bottom?"auto":"-"+i.clientHeight/2+"px",i.style.bottom=t.bottom||"auto")),"viewport"!==t.type?(t.anchorLeft?(n.style.left=t.anchorLeft,n.style.right="auto"):(n.style.left=t.anchorRight?"auto":"50%",n.style.right=t.anchorRight||"auto"),t.left?(i.style.left=t.left,i.style.right="auto"):(i.style.left=t.right?"auto":"-"+i.clientWidth/2+"px",i.style.right=t.right||"auto")):(n.style.top="0",n.style.bottom="0",n.style.left="0",n.style.right="0",i.style.top=t.top||"0",i.style.bottom=t.bottom||"0",i.style.left=t.left||"0",i.style.right=t.right||"0",n.style.width="auto"),"column"===t.type&&(i.style.position="relative",n.style.top="0",n.style.bottom="auto",i.style.top="auto",i.style.bottom="auto",i.style.margin=(t.top||0)+" 0 "+(t.bottom||0)+" "+(t.right&&!t.left?-i.clientWidth:0)+"px"),"sticky-column"===t.type&&(n.style.top="0",n.style.bottom="0",i.style.top=t.top||"0",i.style.bottom=t.bottom||"0")})},reset:function(){this.setPosition(this.position)},close:function(){var t=this;this.alreadyClose||(this.alreadyClose=!0,this.lightboxOpacity="0",this.visible=null===this.transition,this.closeTopModal(),this.onClose&&"function"==typeof this.onClose&&this.onClose(),setTimeout(function(){"string"==typeof t.name?(t.showModal=!1,t.visible=!1):t.doDestroy()},this.fadeDuration))},doDestroy:function(){this.onResize&&window.removeEventListener("resize",this.onResize),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},onColorChange:function(t){this.lightboxColor=t},toArray:function(t){return Array.prototype.slice.call(t)}}},void 0,!1,0,function t(){var e=document.head||document.getElementsByTagName("head")[0],o=t.styles||(t.styles={}),n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(t,i){if(!document.querySelector('style[data-vue-ssr-id~="'+t+'"]')){var s=n?i.media||"default":t,l=o[s]||(o[s]={ids:[],parts:[],element:void 0});if(l.ids.indexOf(t) === -1){var a=i.source,r=l.ids.length;if(l.ids.push(t),i.map&&(a+="\n/*# sourceURL="+i.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i.map))))+" */"),n&&(l.element=l.element||document.querySelector("style[data-group="+s+"]")),!l.element){var d=l.element=document.createElement("style");d.type="text/css",i.media&&d.setAttribute("media",i.media),n&&(d.setAttribute("data-group",s),d.setAttribute("data-next-index","0")),e.appendChild(d)}if(n&&(r=parseInt(l.element.getAttribute("data-next-index")),l.element.setAttribute("data-next-index",r+1)),l.element.styleSheet)l.parts.push(a),l.element.styleSheet.cssText=l.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(a),u=l.element.childNodes;u[r]&&l.element.removeChild(u[r]),u.length?l.element.insertBefore(c,u[r]):l.element.appendChild(c)}}}}}),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t.extend(n),l=[],a={},r=1,d=1010;function c(){l.pop(),d--,l.length<=0&&(document.body.style.overflow="auto",document.removeEventListener("keydown",u))}function u(t){27===(t=t||window.event).keyCode&&l.length>0&&!l[l.length-1].escOff&&l[l.length-1].close()}var p={openModal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==t){var o=null,n=null,p=!0;if(e.name&&(o=a[e.name])&&(-1===l.indexOf(o)?p=!1:e.name=null),p){if("function"==typeof t)n={functional:!0,render:function(e,o){return t(e,o.props)}};else if("string"==typeof t&&-1!==t.indexOf("<"))n={template:t},e.props&&"object"===i(e.props)&&(n.props=Object.keys(e.props));else{if("object"!==(void 0===t?"undefined":i(t))&&("string"!=typeof t||-1!==t.indexOf("<")))return;n=t}var h={};h.contentComOpt=n,h.closeTopModal=c,h.onClose=e.onClose,h.props=e.props,h.name=e.name,(o=new s({data:h})).id="modal_"+r++,o.vm=o.$mount(),document.body.appendChild(o.vm.$el),o.dom=o.vm.$el,e.name&&(a[e.name]=o)}else o.vm.props=e.props,o.recover();o.dom.style.zIndex=d++,o.vm.initStyle(e.style),o.vm.initPosition(e.position),e.escOff&&(o.escOff=!0),l.push(o),l.length<=1&&(document.body.style.overflow="hidden",document.addEventListener("keydown",u))}},closeModal:function(){l.length>0&&l[l.length-1].close()},setInitZIndex:function(t){d=t}};return{install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.zIndex&&p.setInitZIndex(zIndex),t.prototype["$"+(e.name||"modal")]={open:p.openModal,close:p.closeModal}},open:p.openModal,close:p.closeModal}});
